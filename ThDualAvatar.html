<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏≠‡∏¥‡∏ô‡πÇ‡∏ü‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å: ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå Dual-Avatar (‡∏û‡∏£‡πâ‡∏≠‡∏° Gemini AI)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background-color: #0D1B2A;
            color: #E0E1DD;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .card {
            background-color: #1B263B;
            border: 1px solid #415A77;
            height: 100%;
        }
        .flow-arrow {
            color: #778DA9;
        }
        .flow-box {
            border: 2px dashed #415A77;
            background-color: rgba(65, 90, 119, 0.1);
        }
         .flow-line {
            width: 2px;
            background-color: #415A77;
            flex-grow: 1;
        }
        .kpi-box {
            background-color: #415A77;
            color: #E0E1DD;
        }
        .list-check {
            list-style-type: none;
            padding-left: 0;
        }
        .list-check li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .list-check li.placeholder {
            color: #778DA9;
        }
        .list-check li.placeholder::before {
            content: '-';
            position: absolute;
            left: 0;
            color: #778DA9;
        }
        .list-check li:not(.placeholder)::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #2ecc71;
        }
        .gemini-card {
            background-color: #0d1b2a;
            border: 1px solid #778da9;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">

        <div class="mb-8 flex flex-wrap gap-4 justify-start">
            <a href="https://thbho.github.io/" 
               class="inline-block bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">
                &larr; ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Home
            </a>
            <a href="https://threeandhour.github.io/GymMateX/EnDualAvatar.html" 
               class="inline-block bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">
                English Version &rarr;
            </a>
        </div>

        <div class="my-8 flex justify-center">
            <img src="https://i.postimg.cc/3whthbjk/Image-304-topaz-face-text-upscale-1-7x.jpg" alt="Dual Avatar Concept Image" class="rounded-lg shadow-xl max-w-full md:max-w-2xl h-auto" onerror="this.style.display='none'">
        </div>

        <header class="text-center mb-12 md:mb-20">
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå Dual-Avatar: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏™‡∏≠‡∏á‡∏°‡∏¥‡∏ï‡∏¥</h1>
            <p class="text-lg md:text-xl text-gray-300 max-w-4xl mx-auto">‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡∏≠‡∏¥‡∏ô‡∏ü‡∏•‡∏π‡πÄ‡∏≠‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡πÑ‡∏õ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à</p>
        </header>

        <section id="avatars" class="mb-16 md:mb-24">
            <h2 class="text-3xl font-bold text-white mb-8 text-center">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á AI ‡∏≠‡∏¥‡∏ô‡∏ü‡∏•‡∏π‡πÄ‡∏≠‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <div class="card rounded-lg shadow-xl p-6 flex flex-col">
                    <div class="text-center">
                        <div class="text-6xl mb-4">üß†</div>
                        <h3 class="text-2xl font-bold text-white mb-2">1. ‡∏ú‡∏π‡πâ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h3>
                        <p class="font-semibold text-lg text-blue-300 mb-4">(Category Evangelist)</p>
                        <p class="text-gray-300 mb-6">‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏∞‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠</p>
                    </div>
                    <div class="text-left mt-auto">
                        <h4 class="font-bold text-white mb-2">‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å:</h4>
                        <ul class="list-check text-gray-300">
                            <li>‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠ (The Trust Builder)</li>
                            <li>‡∏™‡∏£‡πâ‡∏≤‡∏á "Authority" ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå/‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</li>
                            <li>‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</li>
                        </ul>
                        <div class="mt-4 pt-4 border-t border-gray-700">
                             <p class="text-sm text-gray-400">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: <strong class="text-white">"Brian ‡∏ô‡∏±‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏†‡∏≤‡∏©‡∏µ"</strong> ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏†‡∏≤‡∏©‡∏µ‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢</p>
                        </div>
                    </div>
                </div>
                <div class="card rounded-lg shadow-xl p-6 flex flex-col">
                     <div class="text-center">
                        <div class="text-6xl mb-4">ü§ù</div>
                        <h3 class="text-2xl font-bold text-white mb-2">2. ‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô</h3>
                         <p class="font-semibold text-lg text-pink-300 mb-4">(Buyer Lookalike)</p>
                        <p class="text-gray-300 mb-6">‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ</p>
                    </div>
                     <div class="text-left mt-auto">
                        <h4 class="font-bold text-white mb-2">‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å:</h4>
                        <ul class="list-check text-gray-300">
                            <li>‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á (The Empathy Bridge)</li>
                            <li>‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏†‡∏≤‡∏û‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞ Pain Points</li>
                            <li>‡∏™‡∏£‡πâ‡∏≤‡∏á "Relatability" ‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</li>
                        </ul>
                         <div class="mt-4 pt-4 border-t border-gray-700">
                             <p class="text-sm text-gray-400">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: <strong class="text-white">"‡∏õ‡πâ‡∏≤‡∏™‡∏°‡∏®‡∏£‡∏µ"</strong> (‡∏õ‡πâ‡∏≤‡∏ß‡∏±‡∏¢ 70) ‡∏ó‡∏µ‡πà‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏ß‡∏±‡∏¢</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="gemini-generator" class="mb-16 md:mb-24 card p-6 md:p-8 rounded-lg shadow-xl">
            <h2 class="text-3xl font-bold text-white mb-4 text-center">‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á Avatar ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡πâ‡∏ß‡∏¢ Gemini AI</h2>
            <p class="text-center text-gray-300 max-w-2xl mx-auto mb-6">
                ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏Ñ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥! ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡πâ‡∏ß Gemini ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢ Persona ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏ß‡∏ï‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì
            </p>
            <div class="max-w-xl mx-auto">
                <div class="flex flex-col sm:flex-row gap-2">
                    <input type="text" id="product-input" class="flex-grow bg-gray-700 text-white border border-gray-600 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏Å‡∏¥‡∏ô‡πÅ‡∏Ñ‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏ß‡πÅ‡∏û‡πâ‡∏á‡πà‡∏≤‡∏¢, ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏¥‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡∏¢‡∏ô">
                    <button id="generate-btn" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢ Persona</button>
                </div>
            </div>
            <div id="gemini-result" class="mt-8">
                <div id="loader" class="hidden loader"></div>
                <div id="error-message" class="hidden text-center text-red-400 p-4 bg-red-900/50 rounded-lg"></div>
                <div id="persona-output" class="hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Results will be injected here -->
                </div>
            </div>
        </section>

        <section id="dual-funnel" class="mb-16 md:mb-24">
            <h2 class="text-3xl font-bold text-white mb-12 text-center">‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ö‡∏ô Consumer Journey</h2>
             <div class="max-w-5xl mx-auto p-4 md:p-6 card rounded-lg">
                <div class="flex flex-col items-center">
                    <div class="flow-box rounded-lg p-4 mb-4 text-center w-full md:w-3/4">
                        <h4 class="text-xl font-bold text-white">‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ (Awareness)</h4>
                        <p class="text-sm text-gray-300">üß† ‡∏ú‡∏π‡πâ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏Å‡πà‡∏ï‡∏•‡∏≤‡∏î</p>
                        <p class="font-bold text-blue-300 mt-2">‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°: "‡∏ó‡∏≥‡πÑ‡∏°‡∏â‡∏±‡∏ô‡∏Ñ‡∏ß‡∏£‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ?"</p>
                    </div>
                    <div class="flow-arrow text-4xl mb-4">‚Üì</div>
                    <div class="flow-box rounded-lg p-4 mb-4 text-center w-full md:w-3/4">
                        <h4 class="text-xl font-bold text-white">‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ (Consideration)</h4>
                        <p class="text-sm text-gray-300">üß† ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å</p>
                        <p class="text-sm text-gray-300">ü§ù ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á</p>
                    </div>
                    <div class="flow-arrow text-4xl mb-4">‚Üì</div>
                    <div class="flow-box rounded-lg p-4 mb-4 text-center w-full md:w-3/4">
                        <h4 class="text-xl font-bold text-white">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ã‡∏∑‡πâ‡∏≠ (Decision)</h4>
                        <p class="text-sm text-gray-300">ü§ù ‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠ Lookalike ‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à</p>
                         <p class="font-bold text-pink-300 mt-2">‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°: "‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏â‡∏±‡∏ô‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?"</p>
                    </div>
                </div>
            </div>
            <p class="text-center text-lg text-gray-300 mt-8 max-w-3xl mx-auto">
                <strong>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</strong> ‡∏ô‡∏≥‡∏û‡∏≤‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‚Üí ‡∏ú‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö
            </p>
        </section>

        <section id="comparison" class="mb-16 md:mb-24">
            <h2 class="text-3xl font-bold text-white mb-4 text-center">AI vs. ‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå: ‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå</h2>
            <div class="card rounded-lg shadow-xl p-4 md:p-8">
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
        </section>
        
        <section id="case-studies" class="mb-16 md:mb-24">
            <h2 class="text-3xl font-bold text-white mb-8 text-center">‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card rounded-lg p-6 text-center">
                    <p class="text-4xl mb-3">üì°</p>
                    <h4 class="font-bold text-white text-xl">‡πÑ‡∏≠-‡πÑ‡∏≠‡∏£‡∏µ‡∏ô & AIS</h4>
                    <span class="inline-block bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded-full mt-2 mb-3">‡∏ú‡∏π‡πâ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà</span>
                    <p class="text-sm text-gray-300">‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏•‡πâ‡∏≥‡∏™‡∏°‡∏±‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ 5G</p>
                </div>
                <div class="card rounded-lg p-6 text-center">
                    <p class="text-4xl mb-3">üè†</p>
                    <h4 class="font-bold text-white text-xl">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ & Ananda</h4>
                    <span class="inline-block bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full mt-2 mb-3">‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠ Lookalike</span>
                    <p class="text-sm text-gray-300">‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Gen-C ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ñ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á</p>
                </div>
                <div class="card rounded-lg p-6 text-center">
                     <p class="text-4xl mb-3">üè¶</p>
                    <h4 class="font-bold text-white text-xl">‡πÄ‡∏Ñ‡∏ô & ‡πÄ‡∏Ñ‡∏ã‡∏µ‡πà & KBank</h4>
                     <span class="inline-block bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full mt-2 mb-3">‡πÑ‡∏Æ‡∏ö‡∏£‡∏¥‡∏î</span>
                    <p class="text-sm text-gray-300">‡∏Ñ‡∏π‡πà‡∏´‡∏π‡∏≠‡∏ß‡∏ï‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÄ‡∏≠‡∏á ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢</p>
                </div>
                 <div class="card rounded-lg p-6 text-center">
                     <p class="text-4xl mb-3">‚ú®</p>
                    <h4 class="font-bold text-white text-xl">‡∏Å‡∏∞‡∏ó‡∏¥</h4>
                     <span class="inline-block bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full mt-2 mb-3">‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠ Lookalike</span>
                    <p class="text-sm text-gray-300">‡∏°‡∏µ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</p>
                </div>
            </div>
        </section>

        <section id="recommendations" class="mb-16 md:mb-24">
            <h2 class="text-3xl font-bold text-white mb-8 text-center">‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î</h2>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á Avatars</h3>
                    <p class="text-gray-300 mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏è‡∏¥‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á</p>
                    <ul class="list-check text-gray-300">
                        <li>‡πÉ‡∏´‡πâ Lookalike ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Evangelist</li>
                        <li>‡πÉ‡∏´‡πâ Evangelist ‡∏ô‡∏≥‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á Lookalike ‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô Case Study</li>
                    </ul>
                </div>
                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á (Journey) ‡∏Ç‡∏≠‡∏á Persona</h3>
                    <p class="text-gray-300 mb-4">‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡∏ß‡∏ï‡∏≤‡∏£‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏µ‡∏ß‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÑ‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</p>
                     <ul class="list-check text-gray-300">
                        <li>Evangelist: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÄ‡∏™‡∏°‡∏≠</li>
                        <li>Lookalike: ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ "‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï" ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏π‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</li>
                    </ul>
                </div>
            </div>
        </section>

         <footer class="text-center border-t border-gray-700 pt-8 mt-12">
            <p class="text-gray-400 mb-4">‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á (Broadcasting) ‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Å‡∏≤‡∏£‡∏ö‡πà‡∏°‡πÄ‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Nurturing) ‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•</p>
            <a href="https://thbho.github.io/" 
               class="inline-block bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 text-lg">
                ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå
            </a>
        </footer>
    </div>

    <script>
        const generateBtn = document.getElementById('generate-btn');
        const productInput = document.getElementById('product-input');
        const loader = document.getElementById('loader');
        const errorMessage = document.getElementById('error-message');
        const personaOutput = document.getElementById('persona-output');

        // =================================================================
        // !! ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà GOOGLE AI API KEY ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô !!
        // ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏µ‡∏¢‡πå‡πÑ‡∏î‡πâ‡∏ü‡∏£‡∏µ‡∏ó‡∏µ‡πà Google AI Studio (ai.google.dev)
        // ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏Ñ‡∏µ‡∏¢‡πå ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á Avatar ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        const apiKey = "AIzaSyDj_fOvwZ80qfWaryvy5FNjSiyKt1wAF04"; // <--- ‡∏ß‡∏≤‡∏á API KEY ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏ô‡∏µ‡πâ
        // =================================================================

        generateBtn.addEventListener('click', async () => {
            if (!apiKey) {
                errorMessage.textContent = '‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà Gemini API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ apiKey)';
                errorMessage.classList.remove('hidden');
                return;
            }

            const productCategory = productInput.value;
            if (!productCategory.trim()) {
                errorMessage.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£';
                errorMessage.classList.remove('hidden');
                return;
            }
            
            generateBtn.disabled = true;
            generateBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...';
            loader.classList.remove('hidden');
            errorMessage.classList.add('hidden');
            personaOutput.classList.add('hidden');
            personaOutput.innerHTML = '';

            // **FIX:** Updated prompt to be more explicit about separating fields.
            const prompt = `‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏∞‡∏ô‡∏±‡∏Å‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£: "${productCategory}", ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á AI Influencer Persona ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô 2 ‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡πÇ‡∏î‡∏¢‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î:
1.  "Category Evangelist":
    - name: ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡∏ü‡∏±‡∏á‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏´‡πâ‡∏≤‡∏°‡∏ô‡∏≥‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô‡∏°‡∏≤‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏ä‡∏∑‡πà‡∏≠)
    - bio: ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 2-3 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ)
    - characteristics: ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô 3 ‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
2.  "Buyer Lookalike":
    - name: ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡∏ü‡∏±‡∏á‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏´‡πâ‡∏≤‡∏°‡∏ô‡∏≥‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô‡∏°‡∏≤‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏ä‡∏∑‡πà‡∏≠)
    - bio: ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 2-3 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ)
    - characteristics: ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô 3 ‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)`;

            const schema = {
                type: "OBJECT",
                properties: {
                    evangelist: {
                        type: "OBJECT",
                        properties: {
                            name: { type: "STRING" },
                            bio: { type: "STRING" },
                            characteristics: {
                                type: "ARRAY",
                                items: { type: "STRING" }
                            }
                        }
                    },
                    lookalike: {
                        type: "OBJECT",
                        properties: {
                            name: { type: "STRING" },
                            bio: { type: "STRING" },
                            characteristics: {
                                type: "ARRAY",
                                items: { type: "STRING" }
                            }
                        }
                    }
                }
            };

            try {
                const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = {
                    contents: chatHistory,
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: schema
                    }
                };
                
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorBody = await response.text();
                    throw new Error(`API Error: ${response.status} ${response.statusText}. Body: ${errorBody}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    
                    const jsonText = result.candidates[0].content.parts[0].text;
                    const cleanedJsonText = jsonText.replace(/[\u0000-\u001F\u007F-\u009F]/g, "");

                    try {
                        const data = JSON.parse(cleanedJsonText);
                        displayPersonas(data);
                    } catch (parseError) {
                        console.error('JSON Parse Error:', parseError);
                        console.error('Malformed JSON string received:', cleanedJsonText);
                        throw new Error(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å AI: ${parseError.message}`);
                    }
                } else {
                    throw new Error("‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Persona ‡∏à‡∏≤‡∏Å AI ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå");
                }

            } catch (error) {
                console.error('Error calling Gemini API:', error);
                errorMessage.textContent = `‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${error.message}. ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á`;
                errorMessage.classList.remove('hidden');
            } finally {
                loader.classList.add('hidden');
                generateBtn.disabled = false;
                generateBtn.textContent = '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢ Persona';
            }
        });

        function displayPersonas(data) {
            if (!data || typeof data !== 'object') {
                console.error("Invalid data object received:", data);
                errorMessage.textContent = '‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Persona ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å AI';
                errorMessage.classList.remove('hidden');
                return;
            }

            const evangelist = data.evangelist || {};
            const lookalike = data.lookalike || {};

            const evangelistChars = (Array.isArray(evangelist.characteristics) && evangelist.characteristics.length > 0)
                ? evangelist.characteristics.map(c => `<li>${String(c)}</li>`).join('')
                : '<li class="placeholder">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô</li>';

            const lookalikeChars = (Array.isArray(lookalike.characteristics) && lookalike.characteristics.length > 0)
                ? lookalike.characteristics.map(c => `<li>${String(c)}</li>`).join('')
                : '<li class="placeholder">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô</li>';

            const evangelistHtml = `
                <div class="gemini-card rounded-lg p-6 flex flex-col">
                    <div class="text-center mb-4">
                        <div class="text-4xl">üß†</div>
                        <h3 class="text-2xl font-bold text-blue-300 mt-2 break-words">${evangelist.name || '‡∏ú‡∏π‡πâ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà'}</h3>
                        <p class="font-semibold text-white">(Category Evangelist)</p>
                    </div>
                    <div class="flex-grow">
                        <p class="text-gray-300 mb-4 break-words">${evangelist.bio || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢'}</p>
                        <h4 class="font-bold text-white mb-2">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô:</h4>
                        <ul class="list-check text-gray-300">
                            ${evangelistChars}
                        </ul>
                    </div>
                </div>
            `;

            const lookalikeHtml = `
                <div class="gemini-card rounded-lg p-6 flex flex-col">
                    <div class="text-center mb-4">
                        <div class="text-4xl">ü§ù</div>
                        <h3 class="text-2xl font-bold text-pink-300 mt-2 break-words">${lookalike.name || '‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô'}</h3>
                        <p class="font-semibold text-white">(Buyer Lookalike)</p>
                    </div>
                    <div class="flex-grow">
                        <p class="text-gray-300 mb-4 break-words">${lookalike.bio || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢'}</p>
                        <h4 class="font-bold text-white mb-2">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô:</h4>
                        <ul class="list-check text-gray-300">
                             ${lookalikeChars}
                        </ul>
                    </div>
                </div>
            `;
            
            personaOutput.innerHTML = evangelistHtml + lookalikeHtml;
            personaOutput.classList.remove('hidden');
        }


        const wrapLabel = (label, maxLength = 16) => {
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).length > maxLength && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = currentLine ? currentLine + ' ' + word : word;
                }
            }
            lines.push(currentLine);
            return lines;
        };
        
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
              return label.join(' ');
            }
            return label;
        };

        const globalChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: '#E0E1DD',
                        font: {
                            family: "'Kanit', sans-serif"
                        }
                    }
                },
                tooltip: {
                    titleFont: {
                        family: "'Kanit', sans-serif"
                    },
                    bodyFont: {
                        family: "'Kanit', sans-serif"
                    },
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        };

        const comparisonChartCtx = document.getElementById('comparisonChart').getContext('2d');
        const comparisonChart = new Chart(comparisonChartCtx, {
            type: 'radar',
            data: {
                labels: [
                    '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', 
                    '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î', 
                    '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß', 
                    '‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå', 
                    '‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå',
                    '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ó‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ'
                ].map(label => wrapLabel(label)),
                datasets: [{
                    label: 'AI Influencer',
                    data: [10, 10, 9, 10, 6, 7],
                    backgroundColor: 'rgba(52, 152, 219, 0.2)',
                    borderColor: '#3498db',
                    pointBackgroundColor: '#3498db',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#3498db'
                }, {
                    label: 'Human Influencer',
                    data: [4, 6, 5, 7, 10, 10],
                    backgroundColor: 'rgba(231, 76, 60, 0.2)',
                    borderColor: '#e74c3c',
                    pointBackgroundColor: '#e74c3c',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#e74c3c'
                }]
            },
            options: {
                ...globalChartOptions,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(224, 225, 221, 0.2)' },
                        grid: { color: 'rgba(224, 225, 221, 0.2)' },
                        pointLabels: { color: '#E0E1DD', font: { size: 12, family: "'Kanit', sans-serif" }},
                        ticks: {
                            color: '#0D1B2A',
                            backdropColor: 'rgba(224, 225, 221, 0.8)',
                            stepSize: 2
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
